@using TableroPecasV5.Shared;
@using TableroPecasV5.Client.Componentes
@inherits Logicas.CLogicaBingWSS

<div style="width: 100%; height: 100%; position: relative;">
  <div style="width: 100%; height: 28px; background: lightgray;">
    <label style="margin-left: 10px; display: inline-block;">Capas definidas</label>
    <Select Style="width: 250px; display: inline-block; margin-left: 5px;" TValue="int" @bind-SelectedValue="@CapaElegida">
      <SelectItem TValue="int" Value="-1">Ninguna</SelectItem>
      @if (CapasWSS != null)
      {
        @foreach (CCapaWSSCN Capa in CapasWSS)
        {
          <SelectItem TValue="int" Value="@Capa.Codigo">@Capa.Nombre</SelectItem>
        }
      }
    </Select>
    <img src="~/Imagenes/mas.png"
         style="width: 21px; height: 21px; display: inline-block; margin-left: 5px;" @onclick="@EditarCapas" />
  </div>
  <div id="@Direccion" style="width: 100%; height: calc(100% - 35px);">
    @if (Proyecto == null)
    {
      <a>Por favor aguarde unos segundos</a>
    }
  </div>

  @if (Editando)
  {
    <CascadingValue Value="this">
      <div style="width: 100%; height: 100%; position: absolute; margin-top: 0px;">
        <CDefinirCapaWSS @ref="DefinidorCapas"
                         ClaseIndicador="@ClaseIndicador"
                         Indicador="@CodigoIndicador"
                         Columnas="@Columnas"
                         ListaCapas="@CapasWSS" />
      </div>
    </CascadingValue>
  }
</div>

